{"version":3,"sources":["webpack:///main.5f25f2feae1b22f55983.js","webpack:///./src/index.ts","webpack:///(webpack)/buildin/global.js","webpack:///./src/api/userApi.ts","webpack:///./src/api/baseUrl.ts"],"names":["webpackJsonp","module","exports","__webpack_require__","global","_userApi","globalAny","getUsers","then","result","usersBody","forEach","user","id","firstName","lastName","email","document","getElementById","innerHTML","deleteLinks","getElementsByClassName","Array","from","link","onclick","event","element","target","preventDefault","deleteUser","attributes","value","row","parentNode","removeChild","call","g","this","Function","eval","e","window","get","del","url","fetch","baseUrl","onSuccess","onError","request","Request","method","response","json","error","console","log","Object","defineProperty","_baseUrl","_baseUrl2","obj","__esModule","default","getBaseUrl","getQueryStringParameterByName","name","location","href","replace","regex","RegExp","results","exec","decodeURIComponent"],"mappings":"AAAAA,cAAc,IACP,CACA,CAED,SAAUC,EAAQC,EAASC,GAEjC,cAC4B,SAASC,GCPc,GAAAC,GAAAF,EAAA,EAC7BA,GAAA,EACtB,IAAeG,GAAeF,GAGpB,EAAAC,EAAAE,YAAKC,KAAC,SAAgBC,GAC5B,GAAaC,GAAc,EAErBD,GAAQE,QAAC,SAAcC,GACZF,GAAA,0CACkBE,EAAGC,GAAA,qDACxBD,EAAGC,GAAA,sBACHD,EAAUE,UAAA,sBACVF,EAASG,SAAA,sBACTH,EAEdI,MAAA,yBAESV,EAASW,SAAeC,eAAS,SAAUC,UAAaT,CAEjE,IAAiBU,GAAYd,EAASW,SAAuBI,uBAAe,aAIvEC,OAAKC,KAAsBH,EAAE,SAASI,GACnCA,EAAQC,QAAG,SAAeC,GAC1B,GAAaC,GAAQD,EAAQE,MACxBF,GAAkBG,kBACb,EAAAxB,EAAAyB,YAAQH,EAAWI,WAAW,WAAQC,MAChD,IAASC,GAAUN,EAAWO,WAAYA,UACvCD,GAAWC,WAAYC,YAC9BF,UDGqBG,KAAKlC,EAASC,EAAoB,KAIzD,SAAUF,EAAQC,GEtCxB,GAAAmC,EAGAA,GAAA,WACA,MAAAC,QAGA,KAEAD,KAAAE,SAAA,qBAAAC,MAAA,QACC,MAAAC,GAED,gBAAAC,UACAL,EAAAK,QAOAzC,EAAAC,QAAAmC,GF6CM,SAAUpC,EAAQC,EAASC,GAEjC,YAkBA,SAASI,KG/EC,MAAIoC,GACd,SHiFA,QAASb,GG/EyBjB,GACxB,MAAK+B,GAAA,SACf/B,GAEA,QAAA8B,GAAqBE,GACX,MAAMC,OAAQC,EAAOF,GAAKrC,KAAUwC,EAC9CC,GAEA,QAAAL,GAAqBC,GACjB,GAAaK,GAAA,GAAcC,SAAQJ,EAAMF,GAC/BO,OACP,UAEG,OAAMN,OAASI,GAAK1C,KAAUwC,EACxCC,GAEA,QAAAD,GAAgCK,GACtB,MAASA,GACnBC,OAEA,QAAAL,GAA2BM,GAChBC,QAAIC,IACfF,GHuCAG,OAAOC,eAAezD,EAAS,cAC3B8B,OAAO,IAEX9B,EAAQK,SAAWA,EACnBL,EAAQ4B,WAAaA,EG1EC3B,EAAA,EACa,IAAAyD,GAAAzD,EAAA,GH+E/B0D,EAEJ,SAAgCC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,IAFhDF,GG7E1Bb,GAEP,EAAAc,EAAAG,YHwGA,SAAU/D,EAAQC,EAASC,GAEjC,YAQA,SAAS8D,KIrHC,MAA8BC,GAAgB,cAA2B,yBACnF,IAEA,QAAAA,GAAmDC,EAAWtB,GACjDA,IAAMA,EAASH,OAAS0B,SAAOC,MACpCF,EAAOA,EAAQG,QAAU,UAAU,OACvC,IAAWC,GAAG,GAAUC,QAAO,OAAOL,EAAyB,sBAClDM,EAAQF,EAAKG,KAAM7B,EAC7B,OAAU4B,GACDA,EAAI,GACSE,mBAAQF,EAAG,GAAQH,QAAM,MACtD,MAFkC,GADD,KJwGjCZ,OAAOC,eAAezD,EAAS,cAC3B8B,OAAO,IAEX9B,EAAQ8D,QAAUC,GAuBZ,SAAUhE,EAAQC,OAKrB","file":"main.5f25f2feae1b22f55983.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */,\n/* 1 */,\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nvar _userApi = __webpack_require__(4);\n\n__webpack_require__(6);\n\nvar globalAny = global;\n// Populate table of users via API call.\n(0, _userApi.getUsers)().then(function (result) {\n    var usersBody = '';\n    result.forEach(function (user) {\n        usersBody += '<tr>\\n        <td><a href=\"#\" data-id=\"' + user.id + '\" class=\"deleteUser\">Delete</a></td>\\n        <td>' + user.id + '</td>\\n        <td>' + user.firstName + '</td>\\n        <td>' + user.lastName + '</td>\\n        <td>' + user.email + '</td>\\n        </tr>';\n    });\n    globalAny.document.getElementById('users').innerHTML = usersBody;\n    var deleteLinks = globalAny.document.getElementsByClassName('deleteUser');\n    // Must use array.from to create a real array from a DOM collection\n    // getElementByClassname only returns an \"array Like\" object\n    Array.from(deleteLinks, function (link) {\n        link.onclick = function (event) {\n            var element = event.target;\n            event.preventDefault();\n            (0, _userApi.deleteUser)(element.attributes['data-id'].value);\n            var row = element.parentNode.parentNode;\n            row.parentNode.removeChild(row);\n        };\n    });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)))\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\n} catch(e) {\n\t// This works if the window reference is available\n\tif(typeof window === \"object\")\n\t\tg = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getUsers = getUsers;\nexports.deleteUser = deleteUser;\n\n__webpack_require__(0);\n\nvar _baseUrl = __webpack_require__(5);\n\nvar _baseUrl2 = _interopRequireDefault(_baseUrl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar baseUrl = (0, _baseUrl2.default)();\nfunction getUsers() {\n    return get('users');\n}\nfunction deleteUser(id) {\n    return del('users/' + id);\n}\nfunction get(url) {\n    return fetch(baseUrl + url).then(onSuccess, onError);\n}\nfunction del(url) {\n    var request = new Request(baseUrl + url, {\n        method: 'DELETE'\n    });\n    return fetch(request).then(onSuccess, onError);\n}\nfunction onSuccess(response) {\n    return response.json();\n}\nfunction onError(error) {\n    console.log(error);\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = getBaseUrl;\n/* tslint:disable:quotemark */\nfunction getBaseUrl() {\n    return getQueryStringParameterByName('useMockApi') ? 'http://localhost:3001/' : '/';\n}\nfunction getQueryStringParameterByName(name, url) {\n    if (!url) {\n        url = window.location.href;\n    }\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*) |&|#|$)\");\n    var results = regex.exec(url);\n    if (!results) {\n        return null;\n    }\n    if (!results[2]) {\n        return '';\n    }\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n],[2]);\n\n\n// WEBPACK FOOTER //\n// main.5f25f2feae1b22f55983.js","import {deleteUser, getUsers} from './api/userApi';\r\nimport './index.scss';\r\nconst globalAny: any = global;\r\n\r\n// Populate table of users via API call.\r\ngetUsers().then((result: any) => {\r\n    let usersBody: string = '';\r\n\r\n    result.forEach((user: any) => {\r\n        usersBody += `<tr>\r\n        <td><a href=\"#\" data-id=\"${user.id}\" class=\"deleteUser\">Delete</a></td>\r\n        <td>${user.id}</td>\r\n        <td>${user.firstName}</td>\r\n        <td>${user.lastName}</td>\r\n        <td>${user.email}</td>\r\n        </tr>`;\r\n    });\r\n\r\n    globalAny.document.getElementById('users').innerHTML = usersBody;\r\n\r\n    const deleteLinks = globalAny.document.getElementsByClassName('deleteUser');\r\n\r\n    // Must use array.from to create a real array from a DOM collection\r\n    // getElementByClassname only returns an \"array Like\" object\r\n    Array.from<any, any>(deleteLinks, (link) => {\r\n        link.onclick = (event: any) => {\r\n            const element = event.target;\r\n            event.preventDefault();\r\n            deleteUser(element.attributes['data-id'].value);\r\n            const row = element.parentNode.parentNode;\r\n            row.parentNode.removeChild(row);\r\n        };\r\n    });\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./src/index.ts","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\n} catch(e) {\n\t// This works if the window reference is available\n\tif(typeof window === \"object\")\n\t\tg = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 3\n// module chunks = 0","import 'whatwg-fetch';\r\nimport getBaseUrl from './baseUrl';\r\n\r\nconst baseUrl = getBaseUrl();\r\n\r\nexport function getUsers(): any {\r\n    return get('users');\r\n}\r\n\r\nexport function deleteUser(id: any) {\r\n    return del(`users/${id}`);\r\n}\r\n\r\nfunction get(url: any) {\r\n    return fetch(baseUrl + url).then(onSuccess, onError);\r\n}\r\n\r\nfunction del(url: any) {\r\n    const request = new Request(baseUrl + url, {\r\n        method: 'DELETE',\r\n    });\r\n\r\n    return fetch(request).then(onSuccess, onError);\r\n}\r\n\r\nfunction onSuccess(response: any) {\r\n    return response.json();\r\n}\r\n\r\nfunction onError(error: any) {\r\n    console.log(error);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./src/api/userApi.ts","/* tslint:disable:quotemark */\r\nexport default function getBaseUrl() {\r\n    return getQueryStringParameterByName('useMockApi') ? 'http://localhost:3001/' : '/';\r\n}\r\n\r\nfunction getQueryStringParameterByName(name: string, url?: any) {\r\n    if (!url) { url = window.location.href; }\r\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\r\n    const regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*) |&|#|$)\");\r\n    const results = regex.exec(url);\r\n    if (!results) { return null; }\r\n    if (!results[2]) { return ''; }\r\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./src/api/baseUrl.ts"],"sourceRoot":""}